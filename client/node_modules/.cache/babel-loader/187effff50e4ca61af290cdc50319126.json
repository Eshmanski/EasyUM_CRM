{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/artemkonovalov/workspace/mern/client/src/pages/auth/Auth.jsx\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useState, useContext } from 'react';\nimport { useRequest } from '../../hooks/request.hook';\nimport { UserContext } from '../../context/UserContext';\nimport { Link } from 'react-router-dom';\nimport Input from '../../ui-components/input/Input';\nimport Button from '../../ui-components/button/Button';\nimport s from './auth.module.css';\n\nconst Auth = () => {\n  _s();\n\n  const {\n    login\n  } = useContext(UserContext);\n  const {\n    request\n  } = useRequest();\n  const [form, setForm] = useState({\n    email: '',\n    password: ''\n  });\n  const handleFieldChange = useCallback(e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  }, [form, setForm]);\n  const handleSubmitForm = useCallback(async () => {\n    const {\n      res\n    } = await request('/api/auth/login', 'POST', { ...form\n    });\n    (res === null || res === void 0 ? void 0 : res.token) && login(res.token, res.userId);\n  }, [form]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.wrapper,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.form,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.title,\n        children: \" \\u0412\\u043E\\u0439\\u0442\\u0438 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.field,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: \"email\",\n          placeholder: \"email\",\n          value: form.email,\n          onChange: handleFieldChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.field,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"\\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n          value: form.password,\n          onChange: handleFieldChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleSubmitForm,\n        children: \" \\u0412\\u043E\\u0439\\u0442\\u0438 \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.footer,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Auth, \"B7QnTVCR9JqIcrkETMEvkJyo0pU=\", false, function () {\n  return [useRequest];\n});\n\n_c = Auth;\nexport default Auth;\n\nvar _c;\n\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"sources":["/Users/artemkonovalov/workspace/mern/client/src/pages/auth/Auth.jsx"],"names":["useCallback","useState","useContext","useRequest","UserContext","Link","Input","Button","s","Auth","login","request","form","setForm","email","password","handleFieldChange","e","target","name","value","handleSubmitForm","res","token","userId","wrapper","title","field","footer"],"mappings":"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","sourcesContent":["import { useCallback, useState, useContext } from 'react';\nimport { useRequest } from '../../hooks/request.hook';\nimport { UserContext } from '../../context/UserContext';\nimport { Link } from 'react-router-dom';\nimport Input from '../../ui-components/input/Input';\nimport Button from '../../ui-components/button/Button';\nimport s from './auth.module.css';\n\n\nconst Auth = () => {\n    const { login } = useContext(UserContext);\n    const { request } = useRequest();\n    const [form, setForm] = useState({\n        email: '',\n        password: ''\n    });\n\n    const handleFieldChange = useCallback(e => {\n        setForm({ ...form, [e.target.name]: e.target.value });\n    }, [form, setForm]);\n\n    const handleSubmitForm = useCallback(async () => {\n        const { res } = await request('/api/auth/login', 'POST', {...form});\n\n        res?.token && login(res.token, res.userId);\n    }, [form]);\n\n\n    return <div className={s.wrapper}>\n        <div className={s.form}>\n            <div className={s.title}> Войти </div>\n                <div className={s.field}>\n                    <Input\n                        type='text'\n                        name='email'\n                        placeholder='email'\n                        value={form.email}\n                        onChange={handleFieldChange}\n                    />\n                </div>\n\n                <div className={s.field}>\n                    <Input\n                        type='password'\n                        name='password'\n                        placeholder='пароль'\n                        value={form.password}\n                        onChange={handleFieldChange}\n                    />\n                </div>\n\n                <Button onClick={handleSubmitForm}> Войти </Button>\n\n            <div className={s.footer}>\n                <Link to='/register'>Регистрация</Link>\n            </div>\n        </div>\n    </div>;\n};\n\nexport default Auth;\n"]},"metadata":{},"sourceType":"module"}