{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/artemkonovalov/workspace/mern/client/src/pages/auth/Register.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useCallback, useContext } from 'react';\nimport { useRequest } from '../../hooks/request.hook';\nimport { UserContext } from '../../context/UserContext';\nimport { Link } from 'react-router-dom';\nimport Input from '../../ui-components/input/Input';\nimport Button from '../../ui-components/button/Button';\nimport s from './auth.module.css';\n\nconst Register = () => {\n  _s();\n\n  const {\n    login\n  } = useContext(UserContext);\n  const {\n    request\n  } = useRequest();\n  const [form, setForm] = useState({\n    email: '',\n    password: ''\n  });\n  const handleFieldChange = useCallback(e => {\n    setForm({ ...form,\n      [e.target.name]: e.target.value\n    });\n  }, [form, setForm]); // const handleSubmitForm = useCallback(async () => {\n  //     const { res } = await request('/api/auth/register', 'POST', {...form});\n  //\n  //     res && login(res.token, res.userId);\n  // }, [form]);\n\n  const handleSubmitForm = useCallback(async () => {\n    const {\n      res,\n      err\n    } = await request('/api/auth/register', 'POST', { ...form\n    });\n    console.log(res, err);\n  }, [form]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: s.wrapper,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.form,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.title,\n        children: \" \\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.field,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: \"email\",\n          placeholder: \"email\",\n          value: form.email,\n          onChange: handleFieldChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.field,\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"\\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n          value: form.password,\n          onChange: handleFieldChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"button\",\n        onClick: handleSubmitForm,\n        children: \" \\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.footer,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/auth\",\n          children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 12\n  }, this);\n};\n\n_s(Register, \"B7QnTVCR9JqIcrkETMEvkJyo0pU=\", false, function () {\n  return [useRequest];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/artemkonovalov/workspace/mern/client/src/pages/auth/Register.jsx"],"names":["useState","useCallback","useContext","useRequest","UserContext","Link","Input","Button","s","Register","login","request","form","setForm","email","password","handleFieldChange","e","target","name","value","handleSubmitForm","res","err","console","log","wrapper","title","field","footer"],"mappings":"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","sourcesContent":["import { useState, useCallback, useContext } from 'react';\nimport { useRequest } from '../../hooks/request.hook';\nimport { UserContext } from '../../context/UserContext';\nimport { Link } from 'react-router-dom';\nimport Input from '../../ui-components/input/Input'\nimport Button from '../../ui-components/button/Button'\nimport s from './auth.module.css';\n\nconst Register = () => {\n    const { login } = useContext(UserContext);\n    const { request } = useRequest();\n    const [form, setForm] = useState({\n        email: '',\n        password: ''\n    });\n\n    const handleFieldChange = useCallback(e => {\n        setForm({ ...form, [e.target.name]: e.target.value });\n    }, [form, setForm]);\n\n    // const handleSubmitForm = useCallback(async () => {\n    //     const { res } = await request('/api/auth/register', 'POST', {...form});\n    //\n    //     res && login(res.token, res.userId);\n    // }, [form]);\n\n    const handleSubmitForm = useCallback(async () => {\n        const { res, err } = await request('/api/auth/register', 'POST', {...form});\n\n        console.log(res, err);\n    }, [form]);\n\n\n    return <div className={s.wrapper}>\n        <div className={s.form}>\n            <div className={s.title}> Регистрация </div>\n\n            <div className={s.field}>\n                <Input\n                    type='text'\n                    name='email'\n                    placeholder='email'\n                    value={form.email}\n                    onChange={handleFieldChange}\n                />\n            </div>\n\n            <div className={s.field}>\n                <Input\n                    type='password'\n                    name='password'\n                    placeholder='пароль'\n                    value={form.password}\n                    onChange={handleFieldChange}\n                />\n            </div>\n\n            <Button type='button' onClick={handleSubmitForm}> Регистрация </Button>\n\n            <div className={s.footer}>\n                <Link to='/auth'>Войти</Link>\n            </div>\n        </div>\n    </div>;\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}